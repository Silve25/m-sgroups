<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Checkout Fictif – Électronique (Thème clair)</title>
  <meta name="description" content="Simulation de page de paiement : Crypto & Virement actifs, Carte & PayPal en maintenance. Thème clair." />
  <style>
    :root{
      --bg:#f6f8fb; --panel:#ffffff; --muted:#6b7280; --text:#0f1724; --brand:#0161ea; --ok:#059669; --warn:#d97706; --danger:#dc2626; --line:#e6edf6;
      --shadow: 0 6px 20px rgba(15,23,36,0.06);
      --radius:12px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:15px/1.45 Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    a{color:var(--brand);text-decoration:none}

    .wrap{max-width:1100px;margin:36px auto;padding:18px}
    .grid{display:grid;gap:18px}
    @media(min-width:980px){.grid{grid-template-columns:1.15fr .85fr}}

    .card{background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow)}
    .card .hd{display:flex;align-items:center;justify-content:space-between;padding:18px 20px;border-bottom:1px solid var(--line)}
    .card .bd{padding:18px}

    .title{font-weight:700;font-size:18px;color:var(--text)}
    .muted{color:var(--muted);font-size:13px}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#f3f6ff;border:1px solid #e1e9ff;font-size:13px;color:var(--brand)}

    .row{display:grid;gap:12px}
    @media(min-width:640px){.row.cols-2{grid-template-columns:1fr 1fr}}

    label{display:block;font-weight:600;margin:6px 0 6px;color:var(--text)}
    input,select,textarea{width:100%;padding:11px 12px;border-radius:10px;border:1px solid var(--line);background:#fbfdff;color:var(--text);outline:none}
    input::placeholder{color:#a3abb8}
    input:focus,select:focus,textarea:focus{box-shadow:0 6px 18px rgba(1,97,234,0.08);border-color:rgba(1,97,234,0.35)}

    .methods{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
    .tab{position:relative;border:1px solid var(--line);background:#ffffff;border-radius:10px;padding:12px;display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;transition:transform .12s ease}
    .tab:hover{transform:translateY(-3px)}
    .tab[aria-selected="true"]{border-color:var(--brand);box-shadow:0 6px 18px rgba(1,97,234,0.08)}
    .tab .ico{width:26px;height:26px}
    .badge{position:absolute;top:8px;right:8px;font-size:11px;background:#fff;border:1px solid #f1f5f9;color:#666;padding:4px 8px;border-radius:999px}
    .badge.warn{background:#fff6e6;border-color:#ffe3b8;color:var(--warn)}

    .crypto-grid{display:grid;gap:14px}
    @media(min-width:700px){.crypto-grid{grid-template-columns:1.15fr .85fr}}

    .wallet{display:grid;gap:10px}
    .copyline{display:grid;grid-template-columns:1fr auto;gap:10px}
    .copy-btn{padding:9px 12px;border-radius:10px;border:1px solid var(--line);background:#fbfdff;cursor:pointer;font-weight:600}
    .copy-btn:hover{box-shadow:0 6px 18px rgba(1,97,234,0.06)}

    .qr{display:flex;align-items:center;justify-content:center;height:200px;border-radius:10px;border:1px dashed #dbe7ff;background:#f3f6ff;color:var(--muted);font-weight:700}

    .timer{display:flex;align-items:center;gap:8px;font-weight:700;color:var(--muted)}
    .status{display:flex;align-items:center;gap:8px}
    .dot{width:10px;height:10px;border-radius:50%;background:var(--ok)}

    .btn{display:inline-flex;gap:10px;align-items:center;justify-content:center;padding:11px 14px;border-radius:10px;border:1px solid var(--line);background:#fff;color:var(--text);cursor:pointer;font-weight:700}
    .btn:hover{transform:translateY(-1px)}
    .btn.primary{background:linear-gradient(90deg,var(--brand),#0a56d8);color:#fff;border:none}
    .btn.ghost{background:#fafcff}

    .summary{display:grid;gap:12px}
    .sum-row{display:flex;align-items:center;justify-content:space-between}
    .total{font-size:18px;font-weight:800}

    .bank-box{display:grid;gap:10px;border:1px solid var(--line);background:#fbfdff;padding:12px;border-radius:10px}

    .toast{position:fixed;inset:auto 20px 20px auto;background:#ffffff;border:1px solid var(--line);padding:10px 12px;border-radius:10px;box-shadow:var(--shadow);opacity:0;transform:translateY(8px);transition:all .22s}
    .toast.show{opacity:1;transform:translateY(0)}

    .footer{margin-top:12px;font-size:13px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="grid">

      <!-- Left: Checkout form -->
      <section class="card">
        <div class="hd">
          <div>
            <div class="title">Paiement sécurisé</div>
            <div class="muted">Sélectionnez votre méthode de paiement — Carte et PayPal sont en maintenance</div>
          </div>
          <span class="pill">SSL • Paiement direct désactivé</span>
        </div>
        <div class="bd">
          <div class="row cols-2">
            <div>
              <label>Prénom</label>
              <input id="firstName" placeholder="Ex: Elvis" />
            </div>
            <div>
              <label>Nom</label>
              <input id="lastName" placeholder="Ex: Sopoh" />
            </div>
            <div>
              <label>Email</label>
              <input id="email" type="email" placeholder="vous@exemple.com" />
            </div>
            <div>
              <label>Téléphone</label>
              <input id="phone" placeholder="+229 …" />
            </div>
          </div>

          <div class="row cols-2" style="margin-top:14px">
            <div>
              <label>Adresse</label>
              <input id="addr" placeholder="Rue, maison…" />
            </div>
            <div>
              <label>Ville</label>
              <input id="city" placeholder="Cotonou" />
            </div>
            <div>
              <label>Pays</label>
              <input id="country" placeholder="Bénin" />
            </div>
            <div>
              <label>Code postal</label>
              <input id="zip" placeholder="…" />
            </div>
          </div>

          <div style="margin:18px 0 12px;display:flex;align-items:center;justify-content:space-between">
            <div class="title" style="font-size:16px">Méthodes de paiement</div>
            <span class="muted">Carte & PayPal en maintenance</span>
          </div>

          <div class="methods" role="tablist">
            <button class="tab" role="tab" aria-selected="true" data-method="crypto" title="Crypto">
              <svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><circle cx="12" cy="12" r="9"/></svg>
              <div>Crypto</div>
            </button>
            <button class="tab" role="tab" aria-selected="false" data-method="bank" title="Virement">
              <svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M3 10l9-6 9 6"/><path d="M4 10v8h16v-8"/></svg>
              <div>Virement</div>
            </button>
            <button class="tab" role="tab" aria-selected="false" data-method="card" title="Carte (maintenance)">
              <span class="badge warn">Maintenance</span>
              <svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><rect x="3" y="5" width="18" height="14" rx="2"/><path d="M3 10h18"/></svg>
              <div>Carte</div>
            </button>
            <button class="tab" role="tab" aria-selected="false" data-method="paypal" title="PayPal (maintenance)">
              <span class="badge warn">Maintenance</span>
              <svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M6 18h6a6 6 0 0 0 0-12H8"/></svg>
              <div>PayPal</div>
            </button>
          </div>

          <!-- Panels -->
          <div id="panel-crypto" class="panel" style="margin-top:16px">
            <div class="crypto-grid">
              <div>
                <div class="row">
                  <div>
                    <label>Monnaie</label>
                    <select id="ccy">
                      <option value="USDT-TRC20" selected>USDT (TRC20)</option>
                      <option value="USDT-ERC20">USDT (ERC20)</option>
                      <option value="BTC">Bitcoin (BTC)</option>
                      <option value="ETH">Ethereum (ETH)</option>
                    </select>
                  </div>
                  <div>
                    <label>Montant (XOF)</label>
                    <input id="amountXof" type="number" min="1" value="150000" />
                  </div>
                </div>

                <div class="row" style="margin-top:8px">
                  <div class="copyline">
                    <div>
                      <label>Adresse de paiement</label>
                      <input id="wallet" readonly value="TSmG8uQ9DemoTRC20_1234567890" />
                    </div>
                    <button class="copy-btn" data-copy="#wallet">Copier</button>
                  </div>

                  <div class="copyline">
                    <div>
                      <label>Montant à envoyer (<span id="ccyLabel">USDT</span>)</label>
                      <input id="amountCcy" readonly value="245.90" />
                    </div>
                    <button class="copy-btn" data-copy="#amountCcy">Copier</button>
                  </div>

                  <div class="status">
                    <span class="timer" id="timer">Taux verrouillé : 15:00</span>
                    <span class="pill" style="background:#f3f6ff;color:var(--muted);border:none">Frais réseau non inclus</span>
                  </div>
                </div>

                <div class="row" style="margin-top:10px">
                  <button class="btn primary" id="confirmCrypto">J'ai payé, confirmer la commande</button>
                  <div class="footer">Après confirmation, vous recevrez un email avec le récapitulatif et le suivi.</div>
                </div>
              </div>

              <div>
                <div class="qr" aria-label="QR code de paiement">CODE QR</div>
                <div class="muted" style="text-align:center;margin-top:10px">Scannez pour pré-remplir l'adresse & le montant</div>
              </div>
            </div>
          </div>

          <div id="panel-bank" class="panel" style="display:none;margin-top:16px">
            <div class="bank-box">
              <div class="muted">Effectuez un virement en utilisant les informations ci-dessous. La commande sera préparée après réception et vérification.</div>
              <div class="row cols-2">
                <div>
                  <label>Bénéficiaire</label>
                  <input readonly value="AXION PARTNERS LTD" />
                </div>
                <div>
                  <label>Banque</label>
                  <input readonly value="Clear Junction / Demo Bank" />
                </div>
                <div>
                  <label>IBAN / N° de compte</label>
                  <input id="iban" readonly value="GB82 WEST 1234 5698 7654 32" />
                </div>
                <div>
                  <label>SWIFT/BIC</label>
                  <input id="swift" readonly value="CLJNEUMM" />
                </div>
                <div>
                  <label>Référence à indiquer</label>
                  <input id="ref" readonly value="SRWB9UVYOP" />
                </div>
                <div>
                  <label>Total (XOF)</label>
                  <input id="bankTotal" readonly value="150000" />
                </div>
              </div>
              <div class="row" style="margin-top:10px">
                <div style="display:flex;gap:10px;flex-wrap:wrap">
                  <button class="btn ghost" data-copy="#iban">Copier IBAN</button>
                  <button class="btn ghost" data-copy="#swift">Copier SWIFT</button>
                  <button class="btn ghost" data-copy="#ref">Copier Référence</button>
                </div>
                <div>
                  <label>Preuve de virement (facultatif)</label>
                  <input type="file" id="proof" accept="image/*,.pdf" />
                </div>
                <button class="btn primary" id="confirmBank">J'ai effectué le virement</button>
              </div>
            </div>
          </div>

          <div id="panel-card" class="panel" style="display:none;margin-top:16px">
            <div class="bank-box">
              <div style="font-weight:700;color:var(--muted)">Paiement par carte — En maintenance</div>
              <div class="muted">Nous travaillons actuellement sur l'intégration CB. Merci de choisir Crypto ou Virement.</div>
            </div>
          </div>

          <div id="panel-paypal" class="panel" style="display:none;margin-top:16px">
            <div class="bank-box">
              <div style="font-weight:700;color:var(--muted)">PayPal — En maintenance</div>
              <div class="muted">PayPal est temporairement indisponible. Merci de choisir Crypto ou Virement.</div>
            </div>
          </div>

        </div>
      </section>

      <!-- Right: Order summary -->
      <aside class="card">
        <div class="hd">
          <div class="title">Récapitulatif</div>
          <span class="pill">24h retour & échange</span>
        </div>
        <div class="bd">
          <div class="summary">
            <div class="sum-row"><span>Casque Bluetooth X90</span><span>95 000 XOF</span></div>
            <div class="sum-row"><span>Chargeur GaN 65W</span><span>35 000 XOF</span></div>
            <div class="sum-row"><span>Livraison Express</span><span>20 000 XOF</span></div>
            <div class="sum-row" style="border-top:1px solid var(--line);padding-top:10px"><span class="muted">Sous-total</span><span>150 000 XOF</span></div>
            <div class="sum-row total"><span>Total à payer</span><span id="grandTotal">150 000 XOF</span></div>
            <button class="btn primary" id="placeOrder">Passer la commande</button>
            <div class="footer">En cliquant, vous créez la commande et accédez aux instructions de paiement.</div>
          </div>
        </div>
      </aside>

    </div>
  </div>

  <div class="toast" id="toast">Copié ✅</div>

  <script>
    // --- Helpers ---
    const $ = (q,ctx=document)=>ctx.querySelector(q);
    const $$ = (q,ctx=document)=>Array.from(ctx.querySelectorAll(q));

    function toast(msg){
      const t = $('#toast');
      t.textContent = msg || 'Action effectuée';
      t.classList.add('show');
      setTimeout(()=>t.classList.remove('show'),1600);
    }

    // --- Tabs ---
    const panels = {
      crypto: $('#panel-crypto'),
      bank: $('#panel-bank'),
      card: $('#panel-card'),
      paypal: $('#panel-paypal')
    };

    $$('.tab').forEach(tab=>{
      tab.addEventListener('click', ()=>{
        const method = tab.dataset.method;
        $$('.tab').forEach(t=>t.setAttribute('aria-selected', String(t===tab)));
        Object.values(panels).forEach(p=>p.style.display='none');
        panels[method].style.display='block';
      });
    });

    // --- Copy buttons ---
    $$('[data-copy]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const input = $(btn.getAttribute('data-copy'));
        if(!input) return;
        try{
          input.select();
          input.setSelectionRange(0, 99999);
          document.execCommand('copy');
          toast('Copié : ' + (input.value.length>30? input.value.slice(0,30)+'…' : input.value));
        }catch(e){toast('Impossible de copier');}
      });
    });

    // --- Fake FX calculator ---
    const fx = {
      'USDT-TRC20': {symbol:'USDT', rate:610},
      'USDT-ERC20': {symbol:'USDT', rate:610},
      'BTC': {symbol:'BTC', rate: 61_000*610},
      'ETH': {symbol:'ETH', rate: 3_000*610}
    };

    function recalc(){
      const method = $('#ccy').value;
      const xof = parseFloat($('#amountXof').value||'0');
      const info = fx[method];
      const amount = info ? (xof / info.rate) : 0;
      $('#amountCcy').value = (amount>0? amount : 0).toFixed(6).replace(/0+$/,'').replace(/\.$/,'');
      $('#ccyLabel').textContent = info ? info.symbol : '';
      const w = {
        'USDT-TRC20':'TSmG8uQ9DemoTRC20_1234567890',
        'USDT-ERC20':'0x29aCERC20DEMO000000000000',
        'BTC':'bc1qdemobtc000000000000000000',
        'ETH':'0x9eFethDEMO000000000000000000'
      };
      $('#wallet').value = w[method] || '';
    }

    $('#ccy').addEventListener('change', recalc);
    $('#amountXof').addEventListener('input', recalc);
    recalc();

    // --- Rate lock timer 15:00 ---
    let lock = 15*60; // seconds
    setInterval(()=>{
      if(lock>0){
        lock--; const m = String(Math.floor(lock/60)).padStart(2,'0');
        const s = String(lock%60).padStart(2,'0');
        $('#timer').textContent = `Taux verrouillé : ${m}:${s}`;
      } else {
        $('#timer').textContent = 'Taux expiré — actualiser';
      }
    }, 1000);

    // --- Place order / confirm ---
    const required = ['firstName','lastName','email','phone','addr','city','country','zip'];
    function validate(){
      let ok = true; let firstMissing=null;
      required.forEach(id=>{
        const el = $('#'+id);
        if(!el.value.trim()){
          ok=false; if(!firstMissing) firstMissing=el; el.style.borderColor='var(--danger)';
        } else { el.style.borderColor=''; }
      });
      if(!ok){ firstMissing.focus(); toast('Veuillez compléter vos informations'); }
      return ok;
    }

    $('#placeOrder').addEventListener('click', ()=>{
      if(!validate()) return;
      toast('Commande créée — suivez les instructions de paiement');
      window.scrollTo({top:0, behavior:'smooth'});
    });

    $('#confirmCrypto').addEventListener('click', ()=>{
      if(!validate()) return;
      toast('Paiement crypto en attente de confirmation réseau');
    });

    $('#confirmBank').addEventListener('click', ()=>{
      if(!validate()) return;
      const f = $('#proof');
      toast(f.files.length? 'Preuve reçue, vérification en cours' : 'Virement signalé — vérification sous 24–48h');
    });
  </script>
</body>
</html>
